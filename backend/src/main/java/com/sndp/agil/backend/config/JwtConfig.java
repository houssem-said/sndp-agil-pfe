package com.sndp.agil.backend.config;

import lombok.Data;
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.context.annotation.Configuration;
import org.springframework.util.StringUtils;

@Data
@Configuration
@ConfigurationProperties(prefix = "jwt")
public class JwtConfig {
    private String secretKey;
    private long expirationMs = 86400000; // 24 heures par défaut

    public JwtConfig() {
        // Valeur de secours pour le développement
        if (!StringUtils.hasText(secretKey)) {
            this.secretKey = "0369d4e74c145b0d177a41193c603538af6725f961bb8f5adc0a61db7f051c932ba3a43a0110af004b65daae41f7f1f1c62c9e0934f4d88d989998a890fd1c1d5a4aea98f4b0624512f857314b37f1704f2e8ecf90bdd525800c2f1b34f354ca7f48386e8fbcabe27b367e9d3451bcd8059ad7ca8c5a47d0488f32059a1238844a905879966b95458cd5945de5dc19bb86eff4e0cfd7d98580f9096153086fadfe4df16203969391650dd289357fa8d6dfc7f2acfbe31d669c32a1df2223d4c6d3e12ff6bd0b0674dc3cc5dc213a23c51340fa97e769f9a40b4d8518c18c85a7f3538dbe1c267505f05271be86d35bee9ffbc2375580b38222daf25c51948c325caeab6689ef2b1de969afea09fa7d20d0753542bfcd3aa68afe6f598838543669a672eb90f64c586d68000817f6ffe54a4539ec32fa35fe0416ea9bf2ecb828952221eabec2ed636ceff2170d3bfb25163756eb9067bb0f4e43b4aad1e7eced34a22d6c9866b3c72fa12489a0d914de2db28460b9285ec92484485b300f98c066a42120de76640c9ed08226e4124e5465c7d8357f17bf3023f1db590a922d5f02e14bdb7053df55b087a934802aa0e198cfe3c29b7856c9585b79fbe9791eaea6aadaab3176144f892652cc5c5ad105f3619849a7d5fc5d46a7c638aa72889ad380c6d2acfc6aac511755cb4aebc7fb8973a84cc32c4bd7bb5c912cbcacf4af";
        }
    }
}